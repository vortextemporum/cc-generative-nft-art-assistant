# Rayincarnations Fork - AI Assistant Guide

## Project Overview

A generative artwork inspired by Volatile Moods' "Rayincarnations" (2026, fxhash/Base). The piece explores form as the result of interaction between visible processes and underlying, unseen structures.

**Core Concept:** Every piece has two layers:
1. **Hidden Structure** - Mathematical patterns that influence but are barely visible (radial, flow fields, grids, spirals, voronoi)
2. **Visible Process** - Artistic forms that respond to the hidden structure (organic blobs, linear strokes, dots, waves, tendrils)

The interaction between these creates emergent visual complexity.

## File Structure

```
rayincarnations-fork/
├── index.html          # Viewer with features display
├── sketch.js           # Main sketch (~650 lines)
├── CLAUDE.md           # This file
├── README.md           # User documentation
├── CHANGELOG.md        # Version history
├── versions/           # Archived versions
│   └── .gitkeep
└── docs/
    ├── FEATURES.md     # Feature taxonomy
    └── TECHNICAL.md    # Algorithm details
```

## Current Version: 1.1.0 (Dev Mode)

## Dev Mode Features

The sketch includes a full development mode for parameter exploration:

- **Parameter Controls**: Dropdowns for discrete features, sliders for continuous values
- **Override System**: Modify parameters while preserving original hash-derived values
- **Feedback System**: Like/Dislike outputs, persisted in localStorage, exportable as JSON
- **Rarity Curves**: Visual probability distributions for all discrete parameters
- **Window API**: `window.rayincarnationsFork` exposes full control for external tools

### Key API Methods
```javascript
window.rayincarnationsFork.setParameter('structureType', 'spiral');
window.rayincarnationsFork.resetToOriginal();
window.rayincarnationsFork.recordFeedback(true); // like
window.rayincarnationsFork.exportFeedback(); // JSON string
window.rayincarnationsFork.getRarityCurves();
```

## Key Concepts

### Hidden Structures
- **radial**: Concentric rings emanating from random points
- **flow**: Perlin noise flow field
- **grid**: Hidden grid influencing element placement
- **spiral**: Spiral attractors distorting forms
- **voronoi**: Voronoi seed points affecting nearest elements

### Visible Processes
- **organic**: Blob-like forms with dot fills
- **linear**: Lines that bend to structure
- **dots**: Dot clusters with structure-based brightness
- **waves**: Horizontal waves distorted by structure
- **tendrils**: Growing paths guided by structure

### Interaction Modes
- **reveal**: Structure becomes more visible through forms
- **distort**: Forms bend according to structure forces
- **attract**: Forms pulled toward structure points
- **repel**: Forms pushed away from structure
- **layer**: Both layers blend visually

## Quick Commands

```bash
# Open in browser
open index.html

# Archive before changes
cp sketch.js versions/v1.0.0-sketch.js
```

## Making Changes

### Key Functions

| Function | Purpose |
|----------|---------|
| `generateFeatures()` | Hash-derived parameters |
| `generateHiddenStructure()` | Creates underlying patterns |
| `generateVisibleForms()` | Creates visual elements |
| `getStructureInfluence()` | Queries structure at point |
| `applyInteraction()` | Applies interaction mode |
| `renderVisibleForms()` | Draws all form types |
| `renderPaperTexture()` | Adds grain overlay |

### Adding New Structure Types
1. Add case to `generateHiddenStructure()`
2. Add influence calculation to `getStructureInfluence()`
3. Optionally add visualization to `renderStructureLayer()`

### Adding New Process Types
1. Add generation case to `generateVisibleForms()`
2. Create render function `renderNewType()`
3. Add to render switch in `renderVisibleForms()`

## Style Notes (Volatile Moods aesthetic)

- Paper texture with grain noise
- Monochrome or sepia tones
- Multiple stroke passes for texture
- Dot accumulation for tonal variation
- Subtle, organic imperfections
- High-resolution export capability

## Version Numbering

- **Major (2.0.0):** Changes to hash→output mapping
- **Minor (1.1.0):** New features, backward compatible
- **Patch (1.0.1):** Bug fixes only


<claude-mem-context>
# Recent Activity

<!-- This section is auto-generated by claude-mem. Edit content outside the tags. -->

*No recent activity*
</claude-mem-context>