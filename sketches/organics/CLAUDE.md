# ORGANICS - AI Assistant Guide

## Project Overview

**Organics** creates weird 3D blob objects using deformed spheres. The core algorithm is inspired by a 2D bezier blob generator that creates organic shapes using:
- Points distributed around a ring with randomized radii
- Bezier control points for smooth curves
- Angular wobble for variation

The 3D version extends this to a subdivided icosphere with simplex noise displacement.

**Framework**: Three.js (WebGL)

## File Structure

```
organics/
├── index.html          # Viewer with full dev mode UI
├── sketch.js           # Main Three.js sketch
├── CLAUDE.md           # This file
├── README.md           # User documentation
├── CHANGELOG.md        # Version history
├── versions/           # Archived versions
│   └── .gitkeep
└── docs/
    ├── FEATURES.md     # Feature/rarity documentation
    └── TECHNICAL.md    # Technical implementation
```

## Current Version: 1.0.0

## Key Concepts

### Blob Generation Algorithm
The core `applyBlobDisplacement()` function:
1. Takes a subdivided icosphere
2. For each vertex, calculates spherical coordinates (theta, phi)
3. Applies multi-octave simplex noise for radial displacement
4. The "wobble" parameter adds extra noise perturbation

### Parameters (from 2D concept)
| Parameter | Original 2D | 3D Equivalent |
|-----------|-------------|---------------|
| numPoints | Ring point count | Noise frequency bands |
| baseRadius | Ring size | Sphere radius |
| radiusRandomness | Random radius variation | Displacement amplitude |
| cpOffsetAngle | Control point wobble | Noise perturbation |

### Feature Categories
1. **Material** (7 types): Matte, Glossy, Chrome, Iridescent, Glass, Emissive, Holographic
2. **Distortion** (6 types): None, Twist, Taper, Bend, Bulge, Wave
3. **Growth** (5 types): None, Spikes, Tendrils, Bumps, Crystals
4. **Boolean** (5 types): None, Sphere Cut, Box Cut, Cylinder Cut, Multi Cut
5. **Color**: Procedural HSL from 8 hue families

## Quick Commands

```bash
# Open in browser
open sketches/organics/index.html
```

## Making Changes

### Before editing:
```bash
cp sketch.js versions/v1.0.0-sketch.js
```

### After editing:
1. Update VERSION constant in sketch.js
2. Update version in index.html
3. Update CHANGELOG.md

## Version Numbering

- **Major** (2.0.0): Changes to hash→visual mapping
- **Minor** (1.1.0): New features, backward compatible
- **Patch** (1.0.1): Bug fixes, performance

## Key Functions

| Function | Purpose |
|----------|---------|
| `generateFeatures()` | Roll all features from hash |
| `generateBlob()` | Create deformed sphere mesh |
| `applyBlobDisplacement()` | Core noise displacement algorithm |
| `applyDistortion()` | Twist, bend, etc. |
| `addGrowths()` | Surface protrusions |

## Global API

```javascript
window.organics = {
  regenerate(),
  saveImage(),
  recordFeedback(bool),
  setParameter(name, val),
  resetToOriginal(),
  getFeatures(),
  getHash(),
  getRarityCurves(),
  VERSION
};
```

## Dependencies

- Three.js r128 (CDN)
- OrbitControls (CDN)
- Custom SimplexNoise implementation (inline)

## Notes

- Noise is seeded from hash for determinism
- Higher subdivisions = smoother but slower
- The cpOffsetAngle parameter creates the "wobble" from the original 2D concept


<claude-mem-context>
# Recent Activity

<!-- This section is auto-generated by claude-mem. Edit content outside the tags. -->

*No recent activity*
</claude-mem-context>